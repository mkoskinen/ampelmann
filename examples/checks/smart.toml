# SMART health check with matrix expansion
# Expands to smart-sda, smart-sdb, smart-nvme0n1
name = "smart-${disk}"
description = "SMART health check for /dev/${disk}"
enabled = true
command = "smartctl -H -A /dev/${disk}"
schedule = "0 6 * * *"  # Daily at 6am
timeout = 30
sudo = true

[matrix]
disk = ["sda", "sdb"]

[llm]
triage_model = "qwen2.5:3b"  # Fast model for OK/ALERT decision
analysis_model = "qwen2.5:7b"  # Detailed model for explaining issues
history_context = 5  # Disk degradation trends
timeout = 120
prompt = """
Check SMART health for ${disk}. Alert if status not PASSED, bad sectors > 0, temp > 50C, or FAILING_NOW.

Format: "${disk}: <issue>" e.g. "sda: 5 reallocated sectors" or "sda: FAILING_NOW"

One line. No explanations.
"""

[notify]
priority = "high"
tags = ["disk", "hardware", "smart", "${disk}"]
