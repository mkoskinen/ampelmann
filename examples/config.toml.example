# Ampelmann configuration
# Copy to /etc/ampelmann/config.toml and customize

# checks_dir = "/etc/ampelmann/checks.d"  # default location

[ollama]
host = "http://localhost:11434"
model = "qwen2.5-coder:32b-instruct-q4_K_M"  # large model for comprehensive analysis
timeout = 600  # 10 min for 32B on CPU

[ntfy]
url = "https://ntfy.sh"  # or your self-hosted ntfy server
topic = "ampelmann"
# token = "tk_..."  # access token (if server requires auth)

[database]
path = "/var/lib/ampelmann/ampelmann.db"

[logging]
level = "INFO"
path = "/var/log/ampelmann/ampelmann.log"

[dashboard]
output_dir = "/var/www/ampelmann"
auto_update = true  # regenerate dashboard after each run
history_hours = 48
stats_days = 7
check_history_count = 50

[defaults]
alert_on_check_error = true
alert_on_llm_error = true
retain_days = 90
analyze_errors = true  # use LLM to explain command failures
default_history_context = 3  # previous runs for LLM context (raw output only)
